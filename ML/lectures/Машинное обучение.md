# Лекция №2
**Многомерный анализ (Multivariate)**
	Чтобы увидеть являются ли одна или несколько из них предсказательными для определенного результата. **Предсказательные переменные** являются *независимыми переменными*, а **результат** - *зависимой переменной (выход, целевая переменная)*
**Этапы EDA**
	Этапы EDA могут варьироваться в зависимости от конкретной задачи и данных, но в целом процесс включает следующие *ключевые этапы:*
	1) **Определение цели анализа**.
		Четкое понимание целей анализа и вопросов, на которые необходимо ответить. Это может быть выявление *закономерностей*, поиск *аномалий*, или *подготовка данных*, для дальнейшего моделирования.
	2) **Сбор данных**.
		Сбор данных из различных источников, таких как базы данных, API, файлы (CSV, excel и т.д.) и др.
	3) **Предварительная обработка данных**.
		*Очистка данных:* удаление дубликатов, обработка пропущенных значений, исправление ошибок в данных.
		*Преобразование данных:* изменение формата данных, кодирование категориальных переменных, нормализация или стандартизация числовых признаков.
	4) **Анализ структуры данных.**
		Изучение размеров датасета, типов переменных и их распределений. Это может включать использование методов, таких как **info(), describe()** (библиотека Pandas)
	5) **Визуализация данных.**
		Построение графиков и диаграмм для *визуального представления данных.* Это может включать:
				1) Box Plots;
				2) Scatter Plots;
				3) HeatMaps;
		Визуализация помогает выявить *закономерности, аномалии, взаимосвязи между переменными*
	6) **Анализ статистических характеристик.**
		Вычисление основных статистических показателей, таких как *среднее, медиана, мода, дисперсия, стандартное отклонение*
		Оценка *корреляций* между переменными для понимания их взаимосвязей.
	7) **Выявление аномалий и выбросов.**
		Использование методов визуализации и статистических тестов для обнаружения выбросов или аномальных значений в данных
	8) **Формулирование гипотез.**
		На основе проведенного анализа формулирование гипотез о взаимосвязей между переменными или о поведении целевой переменной
	9) **Подготовка отчётов и выводов.**
		Документирование результатов анализа, создание отчётов с визуализациями и интерпретацией результатов.
	10) **Подготовка к моделированию.**
		На основе полученных знаний подготовка данных для дальнейшего анализа или построения моделей ML. Это может включать *выбор признаков, создание новых переменных* или дальнейшую *очистку данных.*
**Ключевые идеи:**
	**EDA** - *итеративный процесс*, который может потребовать возвращения к предыдущим этапам по мере получения новых инсайтов из данных.
	**Основная цель EDA** - лучше *понять* данные и *подготовить* их для последующего анализа или моделирования
**Размер и размерность данных.**
	**Размер данных** относится к числу объектов данных
	**Размерность данных** относится к числу атрибутов (признаков)
**Типы атрибутов (признаков)**
	![[Pasted image 20250214155256.png]]
**Типы данных**
	*Категориальные (или качественные) признаки* из неупорядоченного множества:
		1) бинарные: {0, 1}, {True, False}
		2) номинальные: \<city> {Vancouver, Burnaby, и т.д.}
		3) порядковые: 
	*Числовые (или количественные) признаки* из упорядоченного множества:
		4) числа
		5) непрерывные/действительные
	**Номинальные данные (Nominal Data)**
		*Возможные значения:* метки или названия вещей, категории. Например: пол, специальность, штат, цвет.
		Описывают характеристику *качественно,* а значения *не имеют порядка.*
		*Не количественные,* над ними *нельзя выполнять арифметические операции.*
		Можно вычислить:
			1) частота значений и наиболее частое значение.
		**Частота (Frecuency)**
			Номинальные и порядковые атрибуты обычно описывают частотами.
			*Частота значения* - это количество раз, когда значения встречаются в наборе данных.
			Иногда используется дробь или процент времени, когда значение появляется.
		Сбор данных посредством определения *частоты каких-либо вещей* либо строите *частоту в контексте доли от общего количества значений*
		*Двоичный атрибут:* частный случай номинальных значений **true/false, Pass/Fail, 0/1**
		*Симметричный:* оба символа имеют одинаковый вес, например, пол.
		*Асимметричный:* оба символа не одинаково важны, например, сдал/не сдал
		Для *визуализации номинальных данных* часто используют *круговую диаграмму, гистограмму*
	**Порядковые данные (Ordinal Data)**.
		Значения имеют *осмысленный порядок.*
			*Оценки:* A, B, C, D
			*Размеры порций:* маленькие, средние, большие
			*Оценки:* плохо, средне, отлично
		*Количественной разницей между двумя уровнями не обнаружено*
		**A** выше/лучше **B**, но *невозможно количественно определить*, насколько **A** выше **B** или является разница между ними такая же как между **B** и **C**
		Можно вычислить: 
			2) частота значений и наиболее частое значение
			3) среднее значение (mean)
	**Числовые признаки (Numeric Attributes)**
		*Количественные* данные, которые можно *измерить.*
		Можно *количественно определить разницу между двумя значениями.* Например: температуру, возраст, рост и т.д.
		Можно вычислить:
			1) частота значений и наиболее частое значение
			2) среднее значение (mean)
			3) среднее значение атрибута (average)
**Как можно преобразовать *категориальные признаки* в *числовые*?**
	![[Pasted image 20250214162004.png]]
	![[Pasted image 20250214162054.png]]
	![[Pasted image 20250214162736.png]]
**Основы описательной статистики (Statistical EDA)**
	**Описательная статистика** - раздел статистической науки, в рамках которого изучаются методы систематизации, описания и представления основных свойств данных.
	1) Оценки, дающие общую картину данных;
	2) Сводные статистические данные - это числа суммирующие свойства данных;
	3) Типичные свойства данных;
	4) *Разброс (spread) и распределение (distribution)* значений;
	5) *Зависимости* и *корреляции* между переменными.
	**Меры центральной тенденции**
		**Мера центральной тенденции* (Central Tendency)** - число, характеризующее выборку по уровню выраженности измеренного признака; описывает место концентрации или середину данных
		Три меры центральной тенденции:
			1) **Среднее** (среднее арифметическое всех значений)
			2) **Медиана** (серединное значение)
			3) **Мода** (наиболее частое наблюдение)
		Разница между медианой и средним значение существует из-за **рабостности (выбросоустойчивости)**
		Данные *распределены вокруг этого "центра"*
		Вычисляется для каждого атрибута
		Три распространенных типа местоположений:
			1) Среднее
			2) Мода
			3) Медиана
		*Эти меры не дают информации относительно*
			1) экстремальных значений в распределении данных
			2) разброса данных
		![[Pasted image 20250214164428.png]]
**Проблема выбросов**
	Если в данных есть *выбросы* - значения, которые гораздо выше или ниже остальных, - это может *негативно повлиять на среднее значение.*
	**Выброс** - наблюдение, которое сильно выделяется из общей картины для выборки.
	Таким образом, среднее значение на робастно, а медиана - напротив, выбросоустойчива.
	Выбросы могут отражать интересные события или *ошибки* в датасете, поэтому важно уметь определять их наличие.
	*Сравнение медианы и моды* - один из способов определить наличие выбросов, хотя *визуализация* обычно позволяет это сделать быстрее.
	Поэтому ещё один вопрос, который необходимо задать: *насколько сильно разбросаны друг относительно друга значения?*
	Для ответа на такой вопрос существуют **МЕРЫ РАЗБРОСА**.
**Меры разброса (изменчивости)**
	1) max;
	2) min;
	3) Range (Размах) := max - min;
	4) Midrange := среднее от min и max;
	5) Inter-Quartile Range (Межквартильный размах);
	6) Low Spear Mid-spread High Spread;
	7) Variance (Дисперсия) и Standart Deviaton (Стандартное отклонение).
	**Размах и квартильный размах**
		Размах (Range) - разность максимального и минимального значений вариоционного ряда.
		Характеристика разброса данных в выборке - **квартильный (или межквартильный) размах**. Он основывается на понятии *квартилей*.
		**Квартиль** - значение, которые делят выборку на 4 равные (по количеству объектов) части.
		Под *квартилями* понимают значения $Q_{1}, Q_{2}, Q_{3}$ которые делят вариационный ряд на четыре равные части.
		**Размах квартилей** - разница между $Q_{3}\ и\ Q_{1}$
	![[Pasted image 20250221153713.png]]
**Классификация выбросов**
	Классифицируют два вида выбросов: *умеренные* и *экстримальные*.
	*Умеренными* называют выбросы, которые удалены ниже первой квартили или выше третьей от 1.5IQR, но не более, чем на 3IQR. *Экстримальные выбросы* удалены ниже первой квартили или выше третьей более, чем на 3IQR. Схема определения выбросов приведена на рисунке. Определение выбросов крайне важно на этапе подготовки данных и позволяет избавиться от значений, достоверность которых соминтельна.
	![[Pasted image 20250221154204.png]]
**Метод межквартильных размахов (IQR)**
	Чтобы справиться с выбросами, можно либо *отбросить выбросы*, либо *заменить выбросы*, используя *метод межквартильных размахов (IQR)*.
	В EDA вычислить IQR для выявления закономерностей путем нахождения разницы между 25-м и 75-м процентилями данных.
	**Процентиль** - делит данные на 100 частей.
	IQR используется для выявления выбросов путём определения пределов для значений выборки , которые являются фатором k IQR. Общим значением для фактора k является значения 1.5.
	![[Pasted image 20250221154551.png]]
**Дисперсия**
	**Дисперсия** - измеряет *отклонение* значений относительно *среднего*.
	$$\sigma^2 = \frac{\Sigma_{i=1}^n(x_{i}-x)^2}{n}$$
	**Дисперсия** - это среднеквадратичное значение отклонений каждой из величин от среднего
	**Стандартное отклонение**
		**Стандартное отклонение (st-dev)** - мера разброса точек данных. Оно измеряет изменчивость путём вычисления среднеквадратичного расстояния между наблюдениями и средним значением из набора данных.
		$$\sigma = \sqrt{\frac{\Sigma_{i=1}^n(x_{i}-x)^2}{n}}$$
		**Стандартное отклонение** измеряет *отклонение* значений *относительно среднего значения*.
		На практике чаще используется именно *стандартное отклонение*, т.к. оно выражает *изменчивость в исходных единицах измерения признака*
**Меры центральной тенденции**
	Если *распределение симметричное*, то мода, медиана и среднее совпадают.
	Чем *больше отклонение от симметричности*, тем больше расхождение между значениями этих мер центральной тенденции. По этому расхождению можно судить о том, насколько симметрично или асимметрично распределение.
**Нормализация данных**
	**Нормализация данных** - процесс преобразования значений признаков данных так, чтобы они находились в одном диапазоне, что особенно важно, поскольку исходные диапазоны признаков могут сильно варьироваться.
	Нормализация предполагает изменение исходного диапазона значений признака на диапазон с заданным минимум и максимум, например $[0, 1]$ или $[-1, 1]$. Такой подход позволяет нормализовать дисперсию между признаками в наборе данных, которая в противном случает может оказаться преувеличенной вследствии влияния того или иного фактора.
	$$X_{norm} = \frac{X-X_{min}}{X_{max}-X{min}}$$
	![[Pasted image 20250221160042.png]]
**Стандартизация данных (Z-преобразование)**
	Более эффективный метод подчёркивания *высоких* или *низких значений признака* - **стандартизация**, при которой данные преобразуются так, чтобы иметь *среднее значение 0 и стандартное отклонение 1*. Это будет означать, что *чрезвычайно высокое или низкое значение* будет выражено в виде трех или более стандартный отклонений от среднего.
	Стандартизация полезна когда:
		1) данные имеют *разные размеры* и *единицы измерения*;
		2) выбросы важны и должны быть учтены, но важно заставить модель сосредоточиться на относительных различияхю
	![[Pasted image 20250221160419.png]]
	![[Pasted image 20250221160520.png]]
	Эта формула эффективно маштабирует данные, *центрируя их вокруг 0 и корректируя разброс на основе стандратного отклонения*.
	**Стандартизацию** рекомендуют выполнять при подготовке данных для последующего использования *регрессии, машин опорных векторов (SVM), метод k-ближайших соседей (k-NN)* и выполнение *анализа главных компонент (PCA)*.
**Числовые сводки данных**
		**Меры центральной тенденции (Measure of Central Tendency)**: вычисляются, чтобы дать **центр**, вокруг которого распределены измерения в данных.
		**Меры вариации или изменчивости (Measure of Variation)**: описывают *разброс данных (изменчивость значений)* или насколько далеко измерения находятся от центра (среднего значения).
**Работа с дисперсией**
	**Что показывает дисперсия?**
		**Дисперсия в статистике** - это мера, которая показывает разброс между результатами. Если все они *близки к среднему*, **дисперсия низкая**. Если *результаты сильно различаются* - **дисперсия высокая**.
		Если говорить о всей выборке, дисперсия показывает, *насколько разнородны результаты*. Например, в *1 группе* почти все - шатены; во *2 группе* половина - шатены, а остальные блондины, рыжие.
	**Кто работает с дисперсией?**
		![[Pasted image 20250221161708.png]]
	**Связь с другими показателями**
		1) Среднее арифметическое;
		2) Стандартное отклонение;
		3) Смещение;
		4) Ошибка прогнозирования
**Разреженность в данных (Sparsity in Data)**
	Если большинство значений признаков отсутствуют, то данные называются **РАЗРЕЖЕННЫМИ**.
	Отсутствующие значения могут быть представленные как NAN, пусто, -, 0.
	Это может быть проблемой для многих стат. методов
	Если пропусков у признака-столбца слишком много (более 70%), то такой признак удаляют!
**Обработка пропущенных значений**
	![[Pasted image 20250221163008.png]]
	![[Pasted image 20250221163011.png]]
**Визуализация данных**
	**Визуализация данных** позволяет понять паттерны, тренды, взаимосвязи в данных через графику и диаграммы.
	![[Pasted image 20250221163241.png]]
